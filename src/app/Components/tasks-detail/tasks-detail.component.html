<div class="report-detail-container container">
    <div class="form-header">
      <button (click)="goBack()" class="back-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" 
             viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" 
             stroke-linecap="round" stroke-linejoin="round">
          <line x1="19" y1="12" x2="5" y2="12"></line>
          <polyline points="12 19 5 12 12 5"></polyline>
        </svg>
      </button>
      <h1 class="page-title">Detalle de Tarea</h1>
      <button class="edit-btn" (click)="isEditing ? saveTaskEdit() : editTask()">
        <ng-container *ngIf="!isEditing">
          <!-- Ícono de lápiz -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" 
               viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" 
               stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 20h9"></path>
            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
          </svg>
        </ng-container>
        <ng-container *ngIf="isEditing">
          <!-- Ícono de check -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" 
               viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" 
               stroke-linecap="round" stroke-linejoin="round">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
        </ng-container>
      </button>
    </div>
  
    <div *ngIf="task" class="detail-card">
      <div class="detail-field">
        <label>Título:</label>
        <div *ngIf="!isEditing">
          <h2>{{ task.title }}</h2>
        </div>
        <div *ngIf="isEditing">
          <input [(ngModel)]="task.title" class="edit-input" />
        </div>
      </div>
  
      <div class="detail-field">
        <label>Descripción:</label>
        <div *ngIf="!isEditing">
          <p>{{ task.description }}</p>
        </div>
        <div *ngIf="isEditing">
          <textarea [(ngModel)]="task.description" class="edit-textarea"></textarea>
        </div>
      </div>
      <br><br>
      <p>Estado: {{ task.completed ? '✅' : '❌' }}</p><br>
      <p>Fecha Límite: ⌚ {{ task.dueDate | date:'short' }}</p>
  
      <div *ngIf="task.photo" class="card-image">
        <img [src]="task.photo" alt="Foto de la tarea" class="report-image">
      </div>
      <div *ngIf="!task.photo" class="no-image">
        <button (click)="addPhoto()" class="big-photo-btn">📷 Agregar Foto</button>
      </div>
  
      <div class="action-buttons">
        <button (click)="toggleStatus()" class="action-btn status-btn">
          {{ task.completed ? '🔄' : '✅' }}
        </button>
        <button (click)="deleteTask()" class="action-btn delete-button">
          🗑️
        </button>
      </div>
    </div>
  </div>
  